function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _NANO_ELEMENT_TYPE_IDS={"":0,Screen:1,Container:2,Text:3,Paragraph:4,Button:5},_NANO_EVENT_TYPE_IDS={"":0,click:1},_NANO_TEXTUAL_ELEMENTS={Text:!0,Paragraph:!0},_nano_elementProps={NONE:0,SHOWING:1,TEXT:2},_currentTimestamp=0,_timers=[],_elementsById={},Date=function(){function Date(){}return Date.now=function(){return Math.floor(_nano_timing_getCurrentTime())},Date}(),Event=function(type){this.type=type};function _nano_nextTick(timestamp){_currentTimestamp=timestamp,_timers.forEach((function(timer,id){null!=timer&&timestamp>timer.nextDue&&(timer.callback(),timer.indefinite?timer.nextDue=timestamp+timer.duration:_timers[id]=null)}))}function _nano_processEvent(eventType,targetId){var eventTypeName=null;if(Object.keys(_NANO_EVENT_TYPE_IDS).forEach((function(type){_NANO_EVENT_TYPE_IDS[type]==eventType&&(eventTypeName=type)})),null!=eventTypeName){var event=new Event(eventTypeName);event.target=_elementsById[targetId],event.target._emit(event)}}function setTimeout(callback,duration){return duration=duration||0,_timers.push({callback:callback,duration:duration,nextDue:_currentTimestamp+duration,indefinite:!1}),_timers.length-1}function setInterval(callback,duration){return duration=duration||0,_timers.push({callback:callback,duration:duration,nextDue:_currentTimestamp+duration,indefinite:!0}),_timers.length-1}function clearTimeout(id){_timers[id]=null}function clearInterval(id){_timers[id]=null}var nano={};nano.Element=function(){function _class(type){this._type=type,this._parent=null,this._children=[],this._id=null,this._propsToSet={},this._shouldListenForEvents=!1,this._eventListeners=[]}var _proto=_class.prototype;return _proto.add=function(){for(var i=0;i<arguments.length;i++){var child=arguments[i];this._children.push(arguments[i]),arguments[i]._parent=this,child._register()}return this},_proto.remove=function(){this.clear();for(var i=0;i<this._parent._children.length;i++)if(this._parent._children[i]==this){this._parent._children.splice(i,1);break}_nano_removeElement(this._id),this._id=null},_proto.clear=function(){for(;this._children.length>0;)this._children[0].remove()},_proto._print=function(indent,lastChild){var indents="    ".repeat(indent),delimeter=lastChild?"":",";if(0!=this._children.length){print("".concat(indents).concat(this._type,"(").concat(this._id,") ("));for(var i=0;i<this._children.length;i++)this._children[i]._print(indent+1,i==this._children.length-1);print("".concat(indents,")").concat(delimeter))}else print("".concat(indents).concat(this._type,"(").concat(this._id,") ()").concat(delimeter))},_proto._register=function(){if(null==this._id&&("Screen"==this._type||null!=this._parent._id)){this._id=_nano_addElement(this._parent?this._parent._id:null,_NANO_ELEMENT_TYPE_IDS[this._type]),_elementsById[this._id]=this;for(var propIdsToSet=Object.keys(this._propsToSet),i=0;i<propIdsToSet.length;i++){var propId=propIdsToSet[i];_nano_setElementProp(this._id,Number(propId),this._propsToSet[propId])}this._propsToSet={},this._shouldListenForEvents&&_nano_listenForEvents(this._id);for(i=0;i<this._children.length;i++)this._children[i]._register()}},_proto._setProp=function(propId,propValue){null!=this._id?_nano_setElementProp(this._id,propId,propValue):this._propsToSet[propId]=propValue},_proto.on=function(eventType,callback){this._shouldListenForEvents=!0,null!=this._id&&_nano_listenForEvents(this._id),this._eventListeners.push({type:eventType,callback:callback})},_proto._emit=function(event){this._eventListeners.forEach((function(listener){listener.type==event.type&&listener.callback(event)}))},_proto.setText=function(text){_NANO_TEXTUAL_ELEMENTS[this._type]?this._setProp(_nano_elementProps.TEXT,text):(this.clear(),this.add(Text(text)))},_proto.screenJump=function(){this._setProp(_nano_elementProps.SHOWING,!0)},_proto.print=function(){return this._print(0,!0),this},_class}();var ClassTest=function(){function ClassTest(){this.message="Testing classes!",this.output()}var _proto2=ClassTest.prototype;return _proto2.output=function(){print.apply(void 0,[this.message])},_proto2.eachArg=function(){for(var i=0;i<arguments.length;i++)print("Argument "+i+": "+arguments[i])},ClassTest}();nano.hello=function(){print("Hello, world! This has been called from the LiveG OS Nano API.");var classTest=new ClassTest;classTest.eachArg.apply(classTest,["a","b","c"])},nano.render=function(){for(var i=0;i<arguments.length;i++)arguments[i]._register()};var astronaut={};function elementBase(name,options){return new nano.Element(name)}function containerElement(name,options){return function(){var element=elementBase(name,options);return Array.prototype.slice.call(arguments).forEach((function processArg(arg){Array.isArray(arg)?arg.forEach((function(subArg){processArg(subArg)})):"string"!=typeof arg?element.add(arg):element.add(astronaut.components.Text(arg))})),element}}function textualElement(name,options){return function(){var element=elementBase(name,options);return element.setText(Array.prototype.slice.call(arguments).map((function(arg){return String(arg)})).join("")),element}}astronaut.components={},astronaut.unpacked=!1,astronaut.unpack=function(){Object.keys(astronaut.components).forEach((function(name){globalThis[name]=astronaut.components[name]})),astronaut.unpacked=!0},astronaut.component=function(options,init){var _options=options;"string"==typeof options&&(_options={name:options});var newComponent=function(){var args=Array.prototype.slice.call(arguments),props={},inter={},children=[],isSplittingChildren=!0;function create(){var createdComponent=init(props,children,inter);return createdComponent.inter=inter,createdComponent}return args.length>0?Array.isArray(args[0])?isSplittingChildren=!1:args[0]instanceof nano.Element?(children=[],args.forEach((function(arg){var _children;Array.isArray(arg)?(_children=children).push.apply(_children,_toConsumableArray(arg)):children.push(arg)})),isSplittingChildren=!1):"object"==typeof args[0]?props=args[0]:(props.args=args,_options.positionals&&args.forEach((function(arg,i){props[_options.positionals[i]]=arg}))):props=_options.default||[],isSplittingChildren?function(){children=[],Array.prototype.slice.call(arguments).forEach((function(arg){var _children2;Array.isArray(arg)?(_children2=children).push.apply(_children2,_toConsumableArray(arg)):children.push(arg)}));for(var i=0;i<children.length;i++)"object"!=typeof children[i]&&(children[i]=String(children[i]));return create()}:create()};return _options.isPrivate||(astronaut.components[_options.name]=newComponent,astronaut.unpacked&&(globalThis[_options.name]=newComponent)),newComponent},astronaut.render=function(component){nano.render(component)},astronaut.components.Text=function(text){var element=new nano.Element("Text");return element.setText(text),element},astronaut.component({name:"Screen",positionals:["showing"]},(function(props,children){var screen=containerElement("Screen",props).apply(void 0,_toConsumableArray(children));return props.showing&&screen.screenJump(),screen})),astronaut.component("Container",(function(props,children){return containerElement("Container",props).apply(void 0,_toConsumableArray(children))})),astronaut.component("Paragraph",(function(props,children){return textualElement("Paragraph",props).apply(void 0,_toConsumableArray(children))})),astronaut.component("Button",(function(props,children){return containerElement("Button",props).apply(void 0,_toConsumableArray(children))}));